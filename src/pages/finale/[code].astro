---
export const prerender = false;

import { getCollection } from 'astro:content';

import Finale from '#/layouts/Finale.astro';
import App from '#/components/Game/App';

const sections = await getCollection('section');
const { code = null } = Astro.params;
---

<Finale>
  <App
    sections={sections.map((section) => section.data)}
    code={code}
    client:load
  />
</Finale>
